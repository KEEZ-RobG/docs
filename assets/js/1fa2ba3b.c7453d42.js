"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[9502],{3905:(e,a,t)=>{t.d(a,{Zo:()=>o,kt:()=>p});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var d=n.createContext({}),s=function(e){var a=n.useContext(d),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},o=function(e){var a=s(e.components);return n.createElement(d.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},f=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,c=e.originalType,d=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),f=s(t),p=r,k=f["".concat(d,".").concat(p)]||f[p]||m[p]||c;return t?n.createElement(k,i(i({ref:a},o),{},{components:t})):n.createElement(k,i({ref:a},o))}));function p(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var c=t.length,i=new Array(c);i[0]=f;var l={};for(var d in a)hasOwnProperty.call(a,d)&&(l[d]=a[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<c;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}f.displayName="MDXCreateElement"},5537:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>c,metadata:()=>l,toc:()=>s});var n=t(3117),r=(t(7294),t(3905));const c={sidebar_position:1},i="ERC725",l={unversionedId:"tools/erc725js/classes/ERC725",id:"tools/erc725js/classes/ERC725",title:"ERC725",description:"decodeData",source:"@site/docs/tools/erc725js/classes/ERC725.md",sourceDirName:"tools/erc725js/classes",slug:"/tools/erc725js/classes/ERC725",permalink:"/tools/erc725js/classes/ERC725",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/tools/erc725js/classes/ERC725.md",tags:[],version:"current",lastUpdatedAt:1654788768,formattedLastUpdatedAt:"Jun 9, 2022",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"toolsSidebar",previous:{title:"Providers",permalink:"/tools/erc725js/providers"},next:{title:"Getting Started",permalink:"/tools/lsp-factoryjs/getting-started"}},d={},s=[{value:"decodeData",id:"decodedata",level:2},{value:"Parameters",id:"parameters",level:4},{value:"1. <code>data</code> - Object or array of Objects",id:"1-data---object-or-array-of-objects",level:5},{value:"2. <code>schemas</code> - Array of Objects (optional)",id:"2-schemas---array-of-objects-optional",level:5},{value:"Returns",id:"returns",level:4},{value:"Single-Key Example",id:"single-key-example",level:4},{value:"Multi-Key Example",id:"multi-key-example",level:4},{value:"Dynamic-Key Example",id:"dynamic-key-example",level:4},{value:"decodePermissions",id:"decodepermissions",level:2},{value:"Parameters",id:"parameters-1",level:4},{value:"1. <code>permission</code> - String",id:"1-permission---string",level:5},{value:"Returns",id:"returns-1",level:4},{value:"Example",id:"example",level:4},{value:"encodeData",id:"encodedata",level:2},{value:"Parameters",id:"parameters-2",level:4},{value:"1. <code>data</code> - Object or array of Objects",id:"1-data---object-or-array-of-objects-1",level:5},{value:"2. <code>schemas</code> - Array of Objects (optional)",id:"2-schemas---array-of-objects-optional-1",level:5},{value:"Returns",id:"returns-2",level:4},{value:"Examples",id:"examples",level:4},{value:"encodeKeyName",id:"encodekeyname",level:2},{value:"Parameters",id:"parameters-3",level:4},{value:"1. <code>keyName</code> - String",id:"1-keyname---string",level:5},{value:"2. <code>dynamicKeyParts</code> - String or array of Strings (optional)",id:"2-dynamickeyparts---string-or-array-of-strings-optional",level:5},{value:"Returns",id:"returns-3",level:4},{value:"Example",id:"example-1",level:4},{value:"encodePermissions",id:"encodepermissions",level:2},{value:"Parameters",id:"parameters-4",level:4},{value:"1. <code>permissions</code> - Object",id:"1-permissions---object",level:5},{value:"Returns",id:"returns-4",level:4},{value:"Example",id:"example-2",level:4},{value:"fetchData",id:"fetchdata",level:2},{value:"Parameters",id:"parameters-5",level:4},{value:"1. <code>keys</code> - String, Object or array of Strings or/and Objects (optional)",id:"1-keys---string-object-or-array-of-strings-orand-objects-optional",level:5},{value:"Returns",id:"returns-5",level:4},{value:"All-Keys Example",id:"all-keys-example",level:4},{value:"Single-Key Example",id:"single-key-example-1",level:4},{value:"Multi-Keys / Dynamic-Keys Example",id:"multi-keys--dynamic-keys-example",level:4},{value:"getData",id:"getdata",level:2},{value:"Parameters",id:"parameters-6",level:4},{value:"1. <code>keys</code> - String, Object or array of Strings or/and Objects (optional)",id:"1-keys---string-object-or-array-of-strings-orand-objects-optional-1",level:5},{value:"Returns",id:"returns-6",level:4},{value:"All-Keys Example",id:"all-keys-example-1",level:4},{value:"Single-Key Example",id:"single-key-example-2",level:4},{value:"Multi-Key Example",id:"multi-key-example-1",level:4},{value:"Dynamic-Key Example",id:"dynamic-key-example-1",level:4},{value:"getOwner",id:"getowner",level:2},{value:"Parameters",id:"parameters-7",level:4},{value:"1. <code>address</code> - String (optional)",id:"1-address---string-optional",level:5},{value:"Returns",id:"returns-7",level:4},{value:"Example",id:"example-3",level:4},{value:"getSchema",id:"getschema",level:2},{value:"Parameters",id:"parameters-8",level:4},{value:"1. <code>keys</code> - String or array of Strings",id:"1-keys---string-or-array-of-strings",level:5},{value:"2. <code>providedSchemas</code> - Object (optional)",id:"2-providedschemas---object-optional",level:5},{value:"Returns",id:"returns-8",level:4},{value:"Example using a predefined LSP3 schema",id:"example-using-a-predefined-lsp3-schema",level:4},{value:"Example using a custom schema",id:"example-using-a-custom-schema",level:4},{value:"isValidSignature",id:"isvalidsignature",level:2},{value:"Parameters",id:"parameters-9",level:4},{value:"1. <code>messageOrHash</code> - String",id:"1-messageorhash---string",level:5},{value:"2. <code>signature</code> - String",id:"2-signature---string",level:5},{value:"Returns",id:"returns-9",level:4},{value:"Examples",id:"examples-1",level:4}],o={toc:s};function m(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},o,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"erc725"},"ERC725"),(0,r.kt)("h2",{id:"decodedata"},"decodeData"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.decodeData(data [, schemas]);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.decodeData(data, schemas);\n")),(0,r.kt)("p",null,"If you are reading the key-value store from an ERC725 smart-contract you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"decodeData")," function to do the decoding for you."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you want total convenience, it is recommended to use the ",(0,r.kt)("a",{parentName:"p",href:"/tools/erc725js/classes/ERC725#fetchdata"},(0,r.kt)("inlineCode",{parentName:"a"},"fetchData"))," function, which automatically ",(0,r.kt)("inlineCode",{parentName:"p"},"decodes")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"fetches")," external references.")),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("h5",{id:"1-data---object-or-array-of-objects"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"data")," - Object or array of Objects"),(0,r.kt)("p",null,"An object or array of objects containing the following properties:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"keyName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Can be either the named key (i.e. ",(0,r.kt)("inlineCode",{parentName:"td"},"LSP3Profile"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"LSP12IssuedAssetsMap:<address>"),") or the hashed key (with or without ",(0,r.kt)("inlineCode",{parentName:"td"},"0x")," prefix, i.e. ",(0,r.kt)("inlineCode",{parentName:"td"},"0x5ef...")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"5ef..."),").")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"dynamicKeyParts")," (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If ",(0,r.kt)("inlineCode",{parentName:"td"},"keyName")," is a dynamic key, the dynamic parts of the ",(0,r.kt)("inlineCode",{parentName:"td"},"keyName")," that will be used for encoding the key.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value that should be decoded. Can be a string, an array of string or a JSON...")))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"keyName")," also supports dynamic keys for ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#mapping"},(0,r.kt)("inlineCode",{parentName:"a"},"Mapping"))," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#mapping"},(0,r.kt)("inlineCode",{parentName:"a"},"MappingWithGrouping")),". Therefore, you can use variables in the key name such as ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP12IssuedAssetsMap:<address>"),". In that case, the value should also set the ",(0,r.kt)("inlineCode",{parentName:"p"},"dynamicKeyParts")," property:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dynamicKeyParts"),": string or string","[\xa0]"," which holds the variables that needs to be encoded.")),(0,r.kt)("h5",{id:"2-schemas---array-of-objects-optional"},"2. ",(0,r.kt)("inlineCode",{parentName:"h5"},"schemas")," - Array of Objects (optional)"),(0,r.kt)("p",null,"An array of extra ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP-2 ERC725YJSONSchema")," objects that can be used to find the schema. If called on an instance, it is optional and it will be concatenated with the schema provided on instantiation."),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"decodedData")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Object or Array"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The decoded data as defined and expected in the following schemas.")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"If the input is an array of objects, the values will be returned in an array."),(0,r.kt)("li",{parentName:"ul"},"If the input is a single object, the output will be the decodedData object directly."))),(0,r.kt)("h4",{id:"single-key-example"},"Single-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decoding an object with one key"',title:'"Decoding',an:!0,object:!0,with:!0,one:!0,'key"':!0},"erc725.decodeData([\n  {\n    keyName: 'LSP3Profile',\n    value:\n      '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n  },\n]);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n      url: 'ipfs://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n    },\n  },\n]\n*/\n\nerc725.decodeData({\n  keyName: 'LSP3Profile',\n  value:\n    '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n});\n/**\n{\n  name: 'LSP3Profile',\n  key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  value: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n    url: 'ipfs://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n  },\n}\n*/\n")),(0,r.kt)("h4",{id:"multi-key-example"},"Multi-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decoding an object with multiple keys"',title:'"Decoding',an:!0,object:!0,with:!0,multiple:!0,'keys"':!0},"erc725.decodeData([\n  {\n    keyName: 'LSP3Profile',\n    value:\n      '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n  },\n  {\n    keyName: 'LSP12IssuedAssets[]',\n    value: [\n      {\n        key: '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n        value:\n          '0x0000000000000000000000000000000000000000000000000000000000000002',\n      },\n      {\n        key: '0x7c8c3416d6cda87cd42c71ea1843df2800000000000000000000000000000000',\n        value: '0xd94353d9b005b3c0a9da169b768a31c57844e490',\n      },\n      {\n        key: '0x7c8c3416d6cda87cd42c71ea1843df2800000000000000000000000000000001',\n        value: '0xdaea594e385fc724449e3118b2db7e86dfba1826',\n      },\n    ],\n  },\n]);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n      hashFunction: 'keccak256(utf8)',\n      url: 'ipfs://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n    },\n  },\n  {\n    name: 'LSP12IssuedAssets[]',\n    key: '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n    value: [\n      '0xD94353D9B005B3c0A9Da169b768a31C57844e490',\n      '0xDaea594E385Fc724449E3118B2Db7E86dFBa1826',\n    ],\n  },\n];\n*/\n")),(0,r.kt)("h4",{id:"dynamic-key-example"},"Dynamic-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decoding an object with dynamic key and a custom schema"',title:'"Decoding',an:!0,object:!0,with:!0,dynamic:!0,key:!0,and:!0,a:!0,custom:!0,'schema"':!0},"const schemas = [\n  {\n    name: 'MyKeyName:<bytes32>:<bool>',\n    key: '0x...',\n    keyType: 'Singleton',\n    valueType: 'bytes',\n    valueContent: 'JSONURL',\n  },\n];\n\nerc725.decodeData(\n  [\n    {\n      keyName: 'MyKeyName:<bytes32>:<bool>',\n      dynamicKeyParts: [\n        '0xaaaabbbbccccddddeeeeffff111122223333444455556666777788889999aaaa',\n        'true',\n      ],\n      value:\n        '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n    },\n  ],\n  schemas,\n);\n/**\n[\n  {\n    name: 'MyKeyName:aaaabbbbccccddddeeeeffff111122223333444455556666777788889999aaaa:true',\n    key: '0x35e6950bc8d2aaaabbbb00000000000000000000000000000000000000000001',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n      url: 'ifps://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n    },\n  },\n];\n*/\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"decodepermissions"},"decodePermissions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.decodePermissions(permission);\n")),(0,r.kt)("p",null,"Decodes permissions from hexadecimal defined by the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"decodePermissions")," is available as either a static or non-static method so can be called without instantiating an ERC725 object.")),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("h5",{id:"1-permission---string"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"permission")," - String"),(0,r.kt)("p",null,"The encoded permission (32bytes hex)."),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"decodedPermissions")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Object"),(0,r.kt)("td",{parentName:"tr",align:"left"},"An object specifying whether default LSP6 permissions are included in provided hexademical string.")))),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Decoding permissions"',title:'"Decoding','permissions"':!0},"ERC725.decodePermissions('0x0000000000000000000000000000000000000000000000000000000000000110'),\n/**\n{\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: false,\n  ADDPERMISSIONS: false,\n  SETDATA: false,\n  CALL: true,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: true,\n  SIGN: false,\n}\n*/\n\nERC725.decodePermissions('0x000000000000000000000000000000000000000000000000000000000000000a'),\n/**\n{\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: true,\n  ADDPERMISSIONS: false,\n  SETDATA: true,\n  CALL: false,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: false,\n  SIGN: false,\n}\n*/\n\n// This method is also available on the instance:\nmyErc725.decodePermissions('0x0000000000000000000000000000000000000000000000000000000000000110'),\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"encodedata"},"encodeData"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.encodeData(data [, schemas]);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.encodeData(data, schemas);\n")),(0,r.kt)("p",null,"Encode the data of a smart contract according to your ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC725JSONSchema")," so that you can store the information in smart contracts."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"When encoding JSON, it is possible to pass in the JSON object and the URL where it is available publicly. The JSON will be hashed with ",(0,r.kt)("inlineCode",{parentName:"p"},"keccak256"),".")),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("h5",{id:"1-data---object-or-array-of-objects-1"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"data")," - Object or array of Objects"),(0,r.kt)("p",null,"An object or array of objects containing the following properties:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"keyName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Can be either the named key (i.e. ",(0,r.kt)("inlineCode",{parentName:"td"},"LSP3Profile"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"LSP12IssuedAssetsMap:<address>"),") or the hashed key (with or without ",(0,r.kt)("inlineCode",{parentName:"td"},"0x")," prefix, i.e. ",(0,r.kt)("inlineCode",{parentName:"td"},"0x5ef...")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"5ef..."),").")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"dynamicKeyParts")," (optional)"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dynamic parts of the ",(0,r.kt)("inlineCode",{parentName:"td"},"keyName")," that will be used for encoding the key.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"," ",(0,r.kt)("br",null)," JSON todo"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The value that should be encoded. Can be a string, an array of string or a JSON...")))),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"keyName")," also supports dynamic keys for ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#mapping"},(0,r.kt)("inlineCode",{parentName:"a"},"Mapping"))," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md#mapping"},(0,r.kt)("inlineCode",{parentName:"a"},"MappingWithGrouping")),". Therefore, you can use variables in the key name such as ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP12IssuedAssetsMap:<address>"),". In that case, the value should also set the ",(0,r.kt)("inlineCode",{parentName:"p"},"dynamicKeyParts")," property:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dynamicKeyParts"),": string or string","[\xa0]"," which holds the variables that needs to be encoded.")),(0,r.kt)("h5",{id:"2-schemas---array-of-objects-optional-1"},"2. ",(0,r.kt)("inlineCode",{parentName:"h5"},"schemas")," - Array of Objects (optional)"),(0,r.kt)("p",null,"An array of extra ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP-2 ERC725YJSONSchema")," objects that can be used to find the schema. If called on an instance, it is optional and it will be concatenated with the schema provided on instantiation."),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"encodedData")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Object"),(0,r.kt)("td",{parentName:"tr",align:"left"},"An object containing the encoded keys and values according to the ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP2 ERC725Y JSON Schema")," of the data which was passed")))),(0,r.kt)("p",null,"After the ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," is encoded, the object is ready to be stored in smart contracts."),(0,r.kt)("h4",{id:"examples"},"Examples"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encode a JSONURL with JSON and uploaded URL"',title:'"Encode',a:!0,JSONURL:!0,with:!0,JSON:!0,and:!0,uploaded:!0,'URL"':!0},"erc725.encodeData([\n  {\n    keyName: 'LSP3Profile',\n    value: {\n      json: profileJson,\n      url: 'ipfs://QmQTqheBLZFnQUxu5RDs8tA9JtkxfZqMBcmGd9sukXxwRm',\n    },\n  },\n]);\n/**\n{\n  keys: ['0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'],\n  values: ['0x6f357c6a2404a2866f05e53e141eb61382a045e53c2fc54831daca9d9e1e039a11f739e1696670733a2f2f516d5154716865424c5a466e5155787535524473387441394a746b78665a714d42636d47643973756b587877526d'],\n}\n*/\n\n// You can also use the hashed key (with or without 0x prefix)\nerc725.encodeData([\n  {\n    keyName:\n      '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      json: profileJson,\n      url: 'ipfs://QmQTqheBLZFnQUxu5RDs8tA9JtkxfZqMBcmGd9sukXxwRm',\n    },\n  },\n]);\n/**\n{\n  keys: ['0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'],\n  values: ['0x6f357c6a2404a2866f05e53e141eb61382a045e53c2fc54831daca9d9e1e039a11f739e1696670733a2f2f516d5154716865424c5a466e5155787535524473387441394a746b78665a714d42636d47643973756b587877526d'],\n}\n*/\n\nerc725.encodeData([\n  {\n    keyName: '5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      json: profileJson,\n      url: 'ipfs://QmQTqheBLZFnQUxu5RDs8tA9JtkxfZqMBcmGd9sukXxwRm',\n    },\n  },\n]);\n/**\n{\n  keys: ['0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'],\n  values: ['0x6f357c6a2404a2866f05e53e141eb61382a045e53c2fc54831daca9d9e1e039a11f739e1696670733a2f2f516d5154716865424c5a466e5155787535524473387441394a746b78665a714d42636d47643973756b587877526d'],\n}\n*/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"erc725.encodeData({\n  keyName: 'LSP1UniversalReceiverDelegate',\n  value: '0x1183790f29BE3cDfD0A102862fEA1a4a30b3AdAb',\n});\n/**\n{\n  keys: ['0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47'],\n  values: ['0x1183790f29be3cdfd0a102862fea1a4a30b3adab'],\n}\n*/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encode a JSONURL with hash function, hash and uploaded URL"',title:'"Encode',a:!0,JSONURL:!0,with:!0,hash:!0,"function,":!0,and:!0,uploaded:!0,'URL"':!0},"erc725.encodeData([\n  {\n    keyName: 'LSP3Profile',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n      url: 'ipfs://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n    },\n  },\n]);\n/**\n{\n  keys: ['0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'],\n  values: ['0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178'],\n}\n*/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encode dynamic keys"',title:'"Encode',dynamic:!0,'keys"':!0},"const schemas = [\n  {\n    name: 'DynamicKey:<address>',\n    key: '0x0fb367364e1852abc5f20000<address>',\n    keyType: 'Mapping',\n    valueType: 'bytes',\n    valueContent: 'Address',\n  },\n];\n\nerc725.encodeData(\n  [\n    {\n      keyName: 'DynamicKey:<address>',\n      dynamicKeyParts: ['0xbedbedbedbedbedbedbedbedbedbedbedbedbedb'],\n      value: '0xcafecafecafecafecafecafecafecafecafecafe',\n    },\n  ],\n  schemas,\n);\n/**\n{\n  keys: ['0x0fb367364e1852abc5f20000bedbedbedbedbedbedbedbedbedbedbedbedbedb'],\n  values: ['0xcafecafecafecafecafecafecafecafecafecafe]\n}\n*/\n\nconst schemas = [\n  {\n    name: 'DynamicKey:<bytes4>:<string>',\n    key: '0xForDynamicKeysThisFieldIsIrrelevantAndWillBeOverwriten',\n    keyType: 'Mapping',\n    valueType: 'bytes',\n    valueContent: 'Address',\n  },\n];\n\nerc725.encodeData(\n  [\n    {\n      keyName: 'DynamicKey:<bytes4>:<string>',\n      dynamicKeyParts: ['0x11223344', 'Summer'],\n      value: '0xcafecafecafecafecafecafecafecafecafecafe',\n    },\n  ],\n  schemas,\n);\n/**\n{\n  keys: ['0x0fb367364e1852abc5f2000078c964cd805233eb39f2db152340079088809725'],\n  values: ['0xcafecafecafecafecafecafecafecafecafecafe']\n}\n*/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encode multiple keys at once"',title:'"Encode',multiple:!0,keys:!0,at:!0,'once"':!0},"erc725.encodeData([\n  {\n    keyName: 'LSP3Profile',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0x820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361',\n      url: 'ipfs://QmYr1VJLwerg6pEoscdhVGugo39pa6rycEZLjtRPDfW84UAx',\n    },\n  },\n  {\n    keyName: 'LSP12IssuedAssets[]',\n    value: [\n      '0xD94353D9B005B3c0A9Da169b768a31C57844e490',\n      '0xDaea594E385Fc724449E3118B2Db7E86dFBa1826',\n    ],\n  },\n  {\n    keyName: 'LSP1UniversalReceiverDelegate',\n    value: '0x1183790f29BE3cDfD0A102862fEA1a4a30b3AdAb',\n  },\n]);\n/**\n{\n  keys: [\n    '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n    '0x7c8c3416d6cda87cd42c71ea1843df2800000000000000000000000000000000',\n    '0x7c8c3416d6cda87cd42c71ea1843df2800000000000000000000000000000001',\n    '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n  ],\n  values: [\n    '0x6f357c6a820464ddfac1bec070cc14a8daf04129871d458f2ca94368aae8391311af6361696670733a2f2f516d597231564a4c776572673670456f73636468564775676f3339706136727963455a4c6a7452504466573834554178',\n    '0x0000000000000000000000000000000000000000000000000000000000000002',\n    '0xd94353d9b005b3c0a9da169b768a31c57844e490',\n    '0xdaea594e385fc724449e3118b2db7e86dfba1826',\n    '0x1183790f29be3cdfd0a102862fea1a4a30b3adab',\n  ],\n}\n*/\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"encodekeyname"},"encodeKeyName"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.encodeKeyName(keyName [, dynamicKeyParts]);\n")),(0,r.kt)("p",null,"Hashes a key name for use on an ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-725.md#erc725y"},"ERC725Y contract")," according to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP2 ERC725Y JSON Schema Standard"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"encodeKeyName")," is available as either a static or non-static method so can be called without instantiating an ERC725 object.")),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("h5",{id:"1-keyname---string"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"keyName")," - String"),(0,r.kt)("p",null,"The key name you want to encode, for instance: ",(0,r.kt)("inlineCode",{parentName:"p"},"LSP3Profile"),"."),(0,r.kt)("h5",{id:"2-dynamickeyparts---string-or-array-of-strings-optional"},"2. ",(0,r.kt)("inlineCode",{parentName:"h5"},"dynamicKeyParts")," - String or array of Strings (optional)"),(0,r.kt)("p",null,"The variables used to encode the key name, if the key name is a dynamic (i.e.: ",(0,r.kt)("inlineCode",{parentName:"p"},"MyKey:<address>"),"...)"),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"encodedKeyName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The keccak256 hash of the provided key name.")))),(0,r.kt)("p",null,"The hash must be retrievable from the ERC725Y contract via the ",(0,r.kt)("a",{parentName:"p",href:"#getdata"},"getData")," function."),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encode the key name"',title:'"Encode',the:!0,key:!0,'name"':!0},"ERC725.encodeKeyName('LSP3Profile');\n// '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5'\n\nERC725.encodeKeyName('SupportedStandards:LSP3UniversalProfile');\n// '0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38'\n\nERC725.encodeKeyName(\n  'AddressPermissions:Permissions:cafecafecafecafecafecafecafecafecafecafe',\n);\n// '0x4b80742de2bf82acb3630000cafecafecafecafecafecafecafecafecafecafe'\n\nERC725.encodeKeyName('MyKeyName:<bool>', 'true');\n// '0x35e6950bc8d21a1699e500000000000000000000000000000000000000000001'\n\nERC725.encodeKeyName('MyKeyName:<bytes2>:<uint32>', ['ffff', '4081242941']);\n// 0x35e6950bc8d20000ffff000000000000000000000000000000000000f342d33d\n\nERC725.encodeKeyName('MyKeyName:<uint32>', ['4081242941']);\n// 0x35e6950bc8d21a1699e5000000000000000000000000000000000000f342d33d\n\n// This method is also available on the instance:\nmyErc725.encodeKeyName('LSP3Profile');\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"encodepermissions"},"encodePermissions"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ERC725.encodePermissions(permissions);\n")),(0,r.kt)("p",null,"Encodes permissions into a hexadecimal string as defined by the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"encodePermissions")," is available as either a static or non-static method so can be called without instantiating an ERC725 object.")),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("h5",{id:"1-permissions---object"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"permissions")," - Object"),(0,r.kt)("p",null,"An object with ",(0,r.kt)("a",{parentName:"p",href:"../../../../../standards/universal-profile/lsp6-key-manager#permissions"},"LSP6 KeyManager Permissions")," as keys and a ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," as value. Any ommited permissions will default to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Promise")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The permissions encoded as a hexadecimal string defined by the ",(0,r.kt)("a",{parentName:"td",href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager"},"LSP6 KeyManager Standard"))))),(0,r.kt)("h4",{id:"example-2"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Encoding permissions"',title:'"Encoding','permissions"':!0},"ERC725.encodePermissions({\n  CHANGEOWNER: false,\n  CHANGEPERMISSIONS: false,\n  ADDPERMISSIONS: false,\n  SETDATA: false,\n  CALL: true,\n  STATICCALL: false,\n  DELEGATECALL: false,\n  DEPLOY: false,\n  TRANSFERVALUE: true,\n  SIGN: false,\n}),\n// '0x0000000000000000000000000000000000000000000000000000000000000110'\n\n// Any ommited Permissions will default to false\nERC725.encodePermissions({\n  CHANGEPERMISSIONS: true,\n  SETDATA: true,\n}),\n// '0x000000000000000000000000000000000000000000000000000000000000000a'\n\n\n// This method is also available on the instance:\nmyErc725.encodePermissions({\n  CHANGEPERMISSIONS: true,\n  SETDATA: true,\n}),\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"fetchdata"},"fetchData"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.fetchData([keys]);\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"fetchData")," function fetches smart contract data and can additionally return ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl"},(0,r.kt)("inlineCode",{parentName:"a"},"JSONURL"))," or ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl"},(0,r.kt)("inlineCode",{parentName:"a"},"ASSETURL"))," data from IPFS, HTTP, or HTTPS endpoints."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To ensure ",(0,r.kt)("strong",{parentName:"p"},"data authenticity")," ",(0,r.kt)("inlineCode",{parentName:"p"},"fetchData")," compares the ",(0,r.kt)("inlineCode",{parentName:"p"},"hash")," of the fetched JSON with the ",(0,r.kt)("inlineCode",{parentName:"p"},"hash")," stored on the blockchain.")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If you get the ",(0,r.kt)("inlineCode",{parentName:"p"},"ReferenceError: fetch is not defined")," error, you need to install and import ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/isomorphic-fetch"},(0,r.kt)("inlineCode",{parentName:"a"},"isomorphic-fetch")),".")),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("h5",{id:"1-keys---string-object-or-array-of-strings-orand-objects-optional"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"keys")," - String, Object or array of Strings or/and Objects (optional)"),(0,r.kt)("p",null,"The name(s) (or the encoded name(s) as schema key) of the element(s) in the smart contract's schema. If no keys are set, it will fetch all the non dynamic schema keys given at instantiation. For dynamic keys, you can use the object below:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"keyName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dynamic key name, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"MyKey:<address>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"dynamicKeyParts")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dynamic parts of the ",(0,r.kt)("inlineCode",{parentName:"td"},"keyName")," that will be used for encoding the key.")))),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Promise<Array>")," or ",(0,r.kt)("br",null)," ",(0,r.kt)("inlineCode",{parentName:"td"},"Promise<Object>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An array with same objects as for ",(0,r.kt)("a",{parentName:"td",href:"./ERC725#decodedata"},(0,r.kt)("inlineCode",{parentName:"a"},"decodeData()"))," function but with the value being remplaced by the actual file for ",(0,r.kt)("inlineCode",{parentName:"td"},"JSONURL")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"ASSETURL")," valueContent. If there is a hash mismatch, the value will be ",(0,r.kt)("inlineCode",{parentName:"td"},"null"),".")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"If the input is an array, the values will be returned in an array."),(0,r.kt)("li",{parentName:"ul"},"If the input is a single key, the output will be the object directly."))),(0,r.kt)("h4",{id:"all-keys-example"},"All-Keys Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving all keys from the schema"',title:'"Receiving',all:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.fetchData();\n/**\n[\n  {\n    name: 'SupportedStandards:LSP3UniversalProfile',\n    key: '0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38',\n    value: '0xabe425d6'\n  },\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: { LSP3Profile: [Object] }\n  },\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0xE2D6038acD92200790Df695Ebd13856CdF2a6942'\n  },\n  {\n    name: 'LSP12IssuedAssets[]',\n    key: '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n    value: [\n      '0xc444009d38d3046bb0cF81Fa2Cd295ce46A67C78',\n      '0x4fEbC3491230571F6e1829E46602e3b110215A2E',\n      '0xB92a8DdA288638491AEE5C2a003D4CAbfa47aE3F',\n      '0x1e52e7F1707dcda57dD33F003B2311652A465acA',\n      '0x0BDA71aA980D37Ea56E8a3784E4c309101DAf3E4',\n      '0xfDB4D9C299438B9839e9d04E34B9609C5b56600D',\n      '0x081D3F0bff8ae2339cb65113822eEc1510704d5c',\n      '0x55C98c6944B7497FaAf4db0386a1aD1E6efF526E',\n      '0x90D1a1D68fa23AEEE991220703f1a1C3782e0b35',\n      '0xdB5AB19792d9fB61c1Dff57810Fb7C6f839Af8ED'\n    ]\n  }\n]\n*/\n")),(0,r.kt)("h4",{id:"single-key-example-1"},"Single-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving one key from the schema"',title:'"Receiving',one:!0,key:!0,from:!0,the:!0,'schema"':!0},"await erc725.fetchData('LSP3Profile');\n/**\n{\n  key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  name: 'LSP3Profile',\n  value: { LSP3Profile: { name: 'Test', description: 'Cool' } }\n}\n*/\nawait erc725.fetchData(['LSP1UniversalReceiverDelegate']);\n/**\n[\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0xE2D6038acD92200790Df695Ebd13856CdF2a6942'\n  }\n]\n*/\n")),(0,r.kt)("h4",{id:"multi-keys--dynamic-keys-example"},"Multi-Keys / Dynamic-Keys Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving multiple keys from the schema"',title:'"Receiving',multiple:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.fetchData(['LSP3Profile', 'LSP1UniversalReceiverDelegate']);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: { LSP3Profile: [Object] }\n  },\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0xE2D6038acD92200790Df695Ebd13856CdF2a6942'\n  }\n]\n*/\n\nawait erc725.fetchData([\n  'LSP1UniversalReceiverDelegate',\n  {\n    keyName: 'LSP12IssuedAssetsMap:<address>',\n    dynamicKeyParts: '0xcafecafecafecafecafecafecafecafecafecafe',\n  },\n]);\n/**\n[\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0xE2D6038acD92200790Df695Ebd13856CdF2a6942'\n  },\n  {\n    name: 'LSP12IssuedAssetsMap:cafecafecafecafecafecafecafecafecafecafe',\n    key: '0x74ac2555c10b9349e78f0000cafecafecafecafecafecafecafecafecafecafe',\n    value: null\n  }\n]\n*/\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"getdata"},"getData"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getData([keys]);\n")),(0,r.kt)("p",null,"Gets ",(0,r.kt)("strong",{parentName:"p"},"decoded data")," for one, many, or all of the specified ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC725")," smart contract's keys.\nWhen omitting the ",(0,r.kt)("inlineCode",{parentName:"p"},"keys")," parameter, it will give back every key (as per ",(0,r.kt)("inlineCode",{parentName:"p"},"ERC725JSONSchema")," definition)."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Data returned by this function does not contain external data of ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl"},(0,r.kt)("inlineCode",{parentName:"a"},"JSONURL")),"\nor ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl"},(0,r.kt)("inlineCode",{parentName:"a"},"ASSETURL"))," schema elements."),(0,r.kt)("li",{parentName:"ul"},"If you would like to receive everything in one go, you can use ",(0,r.kt)("a",{parentName:"li",href:"/tools/erc725js/classes/ERC725#fetchdata"},(0,r.kt)("inlineCode",{parentName:"a"},"fetchData")),"."))),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("h5",{id:"1-keys---string-object-or-array-of-strings-orand-objects-optional-1"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"keys")," - String, Object or array of Strings or/and Objects (optional)"),(0,r.kt)("p",null,"The name(s) (or the encoded name(s) as schema key) of the element(s) in the smart contract's schema. If no keys are set, it will fetch all the non dynamic schema keys given at instantiation. For dynamic keys, you can use the object below:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"keyName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dynamic key name, such as ",(0,r.kt)("inlineCode",{parentName:"td"},"MyKey:<address>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"dynamicKeyParts")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string or ",(0,r.kt)("br",null)," string","[\xa0]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dynamic parts of the ",(0,r.kt)("inlineCode",{parentName:"td"},"keyName")," that will be used for encoding the key.")))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Promise<Array>")," or ",(0,r.kt)("br",null)," ",(0,r.kt)("inlineCode",{parentName:"td"},"Promise<Object>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An array with same objects as for ",(0,r.kt)("a",{parentName:"td",href:"./ERC725#decodedata"},(0,r.kt)("inlineCode",{parentName:"a"},"decodeData()"))," function.")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"If the input is an array, the values will be returned in an array."),(0,r.kt)("li",{parentName:"ul"},"If the input is a single key, the output will be the object directly."))),(0,r.kt)("h4",{id:"all-keys-example-1"},"All-Keys Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving all keys from the schema"',title:'"Receiving',all:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.getData();\n/**\n[\n  {\n    name: 'SupportedStandards:LSP3UniversalProfile',\n    key: '0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38',\n    value: '0xabe425d6',\n  },\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68',\n  },\n  {\n    name: 'LSP12IssuedAssets[]',\n    key: '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n    value: [\n      '0xc444009d38d3046bb0cF81Fa2Cd295ce46A67C78',\n      '0x4fEbC3491230571F6e1829E46602e3b110215A2E',\n      '0xB92a8DdA288638491AEE5C2a003D4CAbfa47aE3F',\n      '0x1e52e7F1707dcda57dD33F003B2311652A465acA',\n      '0x0BDA71aA980D37Ea56E8a3784E4c309101DAf3E4',\n      '0xfDB4D9C299438B9839e9d04E34B9609C5b56600D',\n      '0x081D3F0bff8ae2339cb65113822eEc1510704d5c',\n      '0x55C98c6944B7497FaAf4db0386a1aD1E6efF526E',\n      '0x90D1a1D68fa23AEEE991220703f1a1C3782e0b35',\n      '0xdB5AB19792d9fB61c1Dff57810Fb7C6f839Af8ED'\n    ],\n  },\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0x70546a2accab18748420b63c63b5af4cf710848ae83afc0c51dd8ad17fb5e8b3',\n      url: 'ipfs://QmecrGejUQVXpW4zS948pNvcnQrJ1KiAoM6bdfrVcWZsn5',\n    },\n  },\n]\n*/\n")),(0,r.kt)("h4",{id:"single-key-example-2"},"Single-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving one key from the schema"',title:'"Receiving',one:!0,key:!0,from:!0,the:!0,'schema"':!0},"await erc725.getData('LSP3Profile');\n/**\n{\n  name: 'LSP3Profile',\n  key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  value: {\n    hashFunction: 'keccak256(utf8)',\n    hash: '0xd96ff7776660095f661d16010c4349aa7478a9129ce0670f771596a6ff2d864a',\n    url: 'ipfs://QmbTmcbp8ZW23vkQrqkasMFqNg2z1iP4e3BCUMz9PKDsSV'\n  },\n}\n*/\n\nawait erc725.getData(['LSP3Profile']);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0xd96ff7776660095f661d16010c4349aa7478a9129ce0670f771596a6ff2d864a',\n      url: 'ipfs://QmbTmcbp8ZW23vkQrqkasMFqNg2z1iP4e3BCUMz9PKDsSV'\n    },\n  }\n]\n*/\n\nawait erc725.getData('LSP1UniversalReceiverDelegate');\n/**\n{\n  name: 'LSP1UniversalReceiverDelegate',\n  key: '0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n  value: '0x50A02EF693fF6961A7F9178d1e53CC8BbE1DaD68',\n}\n*/\n")),(0,r.kt)("h4",{id:"multi-key-example-1"},"Multi-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving multiple keys from the schema"',title:'"Receiving',multiple:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.getData(['LSP3Profile', 'LSP1UniversalReceiverDelegate']);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0xeeafeebeb416923dfb0dcf4c66b045c72742121ce2a06f93ae044ee0efb70777',\n      url: 'ipfs://QmZnG5Z5B5Dq8iFFtsL5i7AnrgH16P4DJ8UhY7j8RzX51p'\n    }\n  },\n  {\n    name: 'LSP1UniversalReceiverDelegate',\n    key: '0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47',\n    value: '0xE2D6038acD92200790Df695Ebd13856CdF2a6942'\n  }\n]\n*/\n")),(0,r.kt)("h4",{id:"dynamic-key-example-1"},"Dynamic-Key Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving dynamic keys from the schema"',title:'"Receiving',dynamic:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.getData({\n  keyName: 'LSP12IssuedAssetsMap:<address>',\n  dynamicKeyParts: '0xcafecafecafecafecafecafecafecafecafecafe',\n});\n/**\n{\n  name: 'LSP12IssuedAssetsMap:cafecafecafecafecafecafecafecafecafecafe',\n  key: '0x74ac2555c10b9349e78f0000cafecafecafecafecafecafecafecafecafecafe',\n  value: '0x6b175474e89094c44da98b954eedeac495271d0f',\n}\n*/\n\nawait erc725.getData([\n  {\n    keyName: 'LSP12IssuedAssetsMap:<address>',\n    dynamicKeyParts: '0xcafecafecafecafecafecafecafecafecafecafe',\n  },\n]);\n/**\n[\n  {\n    name: 'LSP12IssuedAssetsMap:cafecafecafecafecafecafecafecafecafecafe',\n    key: '0x74ac2555c10b9349e78f0000cafecafecafecafecafecafecafecafecafecafe',\n    value: '0x6b175474e89094c44da98b954eedeac495271d0f',\n  }\n]\n*/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving dynamic keys from the schema"',title:'"Receiving',dynamic:!0,keys:!0,from:!0,the:!0,'schema"':!0},"await erc725.getData([\n  'LSP3Profile',\n  {\n    keyName: 'LSP12IssuedAssetsMap:<address>',\n    dynamicKeyParts: '0xcafecafecafecafecafecafecafecafecafecafe',\n  },\n]);\n/**\n[\n  {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    value: {\n      hashFunction: 'keccak256(utf8)',\n      hash: '0xeeafeebeb416923dfb0dcf4c66b045c72742121ce2a06f93ae044ee0efb70777',\n      url: 'ipfs://QmZnG5Z5B5Dq8iFFtsL5i7AnrgH16P4DJ8UhY7j8RzX51p'\n    }\n  },\n  {\n    name: 'LSP12IssuedAssetsMap:cafecafecafecafecafecafecafecafecafecafe',\n    key: '0x74ac2555c10b9349e78f0000cafecafecafecafecafecafecafecafecafecafe',\n    value: null\n  }\n]\n*/\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"getowner"},"getOwner"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getOwner([address]);\n")),(0,r.kt)("p",null,"Returns the contract owner and is not directly related to ERC725 specifications."),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("h5",{id:"1-address---string-optional"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"address")," - String (optional)"),(0,r.kt)("p",null,"The contract address you wish to find the owner of. If no address is set, will return the owner of the contract used to initialise the ERC725 class."),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Promise")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The contract or EOA address of the owner.")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The address of the contract owner as stored in the contract.")),(0,r.kt)("h4",{id:"example-3"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Receiving the owner address"',title:'"Receiving',the:!0,owner:!0,'address"':!0},"// If no address is set, it will return the owner of the contract used to initialise the ERC725() class.\nawait erc725.getOwner();\n// '0x94933413384997F9402cc07a650e8A34d60F437A'\n\n// You can also get the owner of a specific contract by setting the address parameter\nawait erc725.getOwner('0x3000783905Cc7170cCCe49a4112Deda952DDBe24');\n// '0x7f1b797b2Ba023Da2482654b50724e92EB5a7091'\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"getschema"},"getSchema"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.getSchema(keys [, providedSchemas]);\n")),(0,r.kt)("p",null,"Parses a hashed key or a list of hashed keys and will attempt to return its corresponding ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP2 ERC725YJSONSchema")," object. Additionally, it will look for a corresponding key within the schemas:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"in the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ERC725Alliance/erc725.js/tree/main/schemas"},(0,r.kt)("inlineCode",{parentName:"a"},"schemas"))," folder (which includes all ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/LIPs/tree/main/LSPs"},"LSPs"),"),"),(0,r.kt)("li",{parentName:"ul"},"that were provided at ERC725 initialisation, and"),(0,r.kt)("li",{parentName:"ul"},"that were provided in the function call (",(0,r.kt)("inlineCode",{parentName:"li"},"providedSchemas"),").")),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("h5",{id:"1-keys---string-or-array-of-strings"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"keys")," - String or array of Strings"),(0,r.kt)("p",null,"The key(s) you are trying to get the schema for."),(0,r.kt)("h5",{id:"2-providedschemas---object-optional"},"2. ",(0,r.kt)("inlineCode",{parentName:"h5"},"providedSchemas")," - Object (optional)"),(0,r.kt)("p",null,"An array of extra ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md"},"LSP-2 ERC725YJSONSchema")," objects that can be used to find the schema."),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"result")),(0,r.kt)("td",{parentName:"tr",align:"left"},"ERC725JSONSchema"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If the parameter ",(0,r.kt)("inlineCode",{parentName:"td"},"keys")," is a string and the schema was found.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"result")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Record string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If the parameter ",(0,r.kt)("inlineCode",{parentName:"td"},"keys")," is a string","[\xa0]"," and the schema was found.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"result")),(0,r.kt)("td",{parentName:"tr",align:"left"},"null"),(0,r.kt)("td",{parentName:"tr",align:"left"},"If the schema was not found.")))),(0,r.kt)("h4",{id:"example-using-a-predefined-lsp3-schema"},"Example using a predefined LSP3 schema"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Parsing the hashed key from the LSP3 schema"',title:'"Parsing',the:!0,hashed:!0,key:!0,from:!0,LSP3:!0,'schema"':!0},"erc725.getSchema(\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n);\n/**\n{\n  name: 'LSP3Profile',\n  key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  keyType: 'Singleton',\n  valueContent: 'JSONURL',\n  valueType: 'bytes'\n}\n*/\nerc725.getSchema([\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n  '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000001',\n]);\n/**\n{\n  '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5': {\n    name: 'LSP3Profile',\n    key: '0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5',\n    keyType: 'Singleton',\n    valueContent: 'JSONURL',\n    valueType: 'bytes'\n  },\n  '0x3a47ab5bd3a594c3a8995f8fa58d087600000000000000000000000000000001': {\n    name: 'LSP12IssuedAssets[1]',\n    key: '0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd',\n    keyType: 'Singleton',\n    valueContent: 'Address',\n    valueType: 'address'\n  }\n}\n*/\n")),(0,r.kt)("h4",{id:"example-using-a-custom-schema"},"Example using a custom schema"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Parsing the hashed key from a custom schema"',title:'"Parsing',the:!0,hashed:!0,key:!0,from:!0,a:!0,custom:!0,'schema"':!0},"erc725.getSchema(\n  '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n  [\n    {\n      name: 'ParameterSchema',\n      key: '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n      keyType: 'Singleton',\n      valueContent: 'JSONURL',\n      valueType: 'bytes',\n    },\n  ],\n);\n/**\n{\n  name: 'ParameterSchema',\n  key: '0x777f55baf2e0c9f73d3bb456dfb8dbf6e609bf557969e3184c17ff925b3c402c',\n  keyType: 'Singleton',\n  valueContent: 'JSONURL',\n  valueType: 'bytes',\n}\n*/\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"isvalidsignature"},"isValidSignature"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"erc725.isValidSignature(messageOrHash, signature);\n")),(0,r.kt)("p",null,"Checks if a signature was signed by the ",(0,r.kt)("inlineCode",{parentName:"p"},"owner")," of the ERC725 Account contract, according to ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1271"},"EIP-1271"),". If the ",(0,r.kt)("inlineCode",{parentName:"p"},"owner")," is a contract itself, it will delegate the ",(0,r.kt)("inlineCode",{parentName:"p"},"isValidsignature()")," call to the owner contract if it supports ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1271"},"EIP-1271"),". Otherwise, it will fail."),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("h5",{id:"1-messageorhash---string"},"1. ",(0,r.kt)("inlineCode",{parentName:"h5"},"messageOrHash")," - String"),(0,r.kt)("p",null,"Value of a message or hash that needs to be verified."),(0,r.kt)("h5",{id:"2-signature---string"},"2. ",(0,r.kt)("inlineCode",{parentName:"h5"},"signature")," - String"),(0,r.kt)("p",null,"The raw RLP encoded signature."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"The hash must be 66 chars long with the ",(0,r.kt)("inlineCode",{parentName:"li"},"0x")," prefix, otherwise it will be interpreded as message."),(0,r.kt)("li",{parentName:"ul"},"The message will be: enveloped as ",(0,r.kt)("inlineCode",{parentName:"li"},'"\\x19Ethereum Signed Message:\\n" + message.length + message')," and hashed using ",(0,r.kt)("inlineCode",{parentName:"li"},"keccak256")," function.\nThe signature can be generated with ",(0,r.kt)("a",{parentName:"li",href:"https://web3js.readthedocs.io/en/v1.2.11/web3-eth-accounts.html#sign"},(0,r.kt)("inlineCode",{parentName:"a"},"web3.eth.accounts.sign()")),"."))),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Promise")),(0,r.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"true")," if signature is valid, ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," if signature is invalid.")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"A valid signature means that the smart contract response IS the MAGICVALUE: ",(0,r.kt)("inlineCode",{parentName:"li"},"0x1626ba7e"),"."),(0,r.kt)("li",{parentName:"ul"},"If this function is called on a contract which does not support ",(0,r.kt)("a",{parentName:"li",href:"https://eips.ethereum.org/EIPS/eip-1271"},"EIP-1271"),", it will throw an error."))),(0,r.kt)("h4",{id:"examples-1"},"Examples"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Checking the signature with a message"',title:'"Checking',the:!0,signature:!0,with:!0,a:!0,'message"':!0},"await erc725.isValidSignature(\n  'hello',\n  '0xb91467e570a6466aa9e9876cbcd013baba02900b8979d43fe208a4a4f339f5fd6007e74cd82e037b800186422fc2da167c747ef045e5d18a5f5d4300f8e1a0291c',\n);\n// true\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Checking the signature with a hash"',title:'"Checking',the:!0,signature:!0,with:!0,a:!0,'hash"':!0},"await erc725.isValidSignature(\n  '0x1da44b586eb0729ff70a73c326926f6ed5a25f5b056e7f47fbc6e58d86871655',\n  '0xcafecafeb915466aa9e9876cbcd013baba02900b8979d43fe208a4a4f339f5fd6007e74cd82e037b800186422fc2da167c747ef045e5d18a5f5d4300f8e1a0291c',\n);\n// false\n")))}m.isMDXComponent=!0}}]);